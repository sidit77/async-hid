<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>WebHID</title>
</head>
<body>
    <link data-trunk rel="rust" href="Cargo.toml" data-wasm-opt="z" />
    Open the dev tool console to see the output!
    <br>
    <br>
    <button id="button" disabled>Run!</button>

    <script type="module">
        document.addEventListener("wasmload", event => {
            let start = event.detail.start;
            let button = document.getElementById("button");
            button.onclick = async function() {
                button.disabled = true;
                await start();
                button.disabled = false;
            };
            button.disabled = false;
        })

    </script>

</body>
</html>